(this["webpackJsonprics-chat"]=this["webpackJsonprics-chat"]||[]).push([[0],{342:function(e,t,n){},343:function(e,t,n){},349:function(e,t,n){},354:function(e,t,n){},551:function(e,t,n){},570:function(e,t,n){},571:function(e,t,n){},596:function(e,t,n){},597:function(e,t,n){},598:function(e,t,n){},628:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n(0),i=n.n(c),r=n(16),o=n.n(r),s=(n(342),n(343),n(76)),l=n(25),d=n(23),u=n.n(d),j=n(56),b=n(8),h=n(285),m=n(157),g=n(158),O=n(97),x=n(168),p=n(167),f=n(205),v=n(44),y=n(206),w=n(22),S=n(679),k=n.n(S);function I(){var e=Object(w.a)(["\n  \tquery login(\n\t\t$account:\t\tString!\n\t\t$password:\t\tString!\n\t) {\n\t\tlogin(\n\t\t\taccount:\t$account\n\t\t\tpassword:\t$password\n\t\t)\n\t}\n"]);return I=function(){return e},e}var F=k()(I());function E(){var e=Object(w.a)(["\n\tmutation signup(\n\t\t$name:\t\tString!\n\t\t$email:\t\tString!\n\t\t$account:\tString!\n\t\t$password:\tString!\n\t\t$picture: \tString\n\t) {\n\t\tsignup(\n\t\t\tdata: {\n\t\t\t\tname:\t\t$name\n\t\t\t\temail:\t\t$email\n\t\t\t\taccount:\t$account\n\t\t\t\tpassword:\t$password\n\t\t\t\tpicture:\t$picture\n\t\t\t}\n\t\t)\n\t}\n"]);return E=function(){return e},e}var B=k()(E());function C(){var e=Object(w.a)(["\n  query getPosts(\n    $x: Float!\n    $y: Float!\n    $s: Float\n    ){\n    getPosts(locale: {\n      x: $x\n      y: $y\n      s: $s\n    }){\n      author\n      location\n      {\n        x\n        y\n        s\n      }\n      type\n      title\n      text\n      picture\n      video\n      tags\n      likes\n      comments\n      {\n        user\n        text\n      }\n      time\n      id\n\n    }\n  }\n"]);return C=function(){return e},e}var R=k()(C());function $(){var e=Object(w.a)(["\n  mutation createPost(\n    $author: String!\n    $x: Float\n    $y: Float\n    $s: Float\n    $title: String!\n    $type: String!\n    $text: String\n    $picture: String\n    $video: String\n    $tags: [String]\n  ) {\n    createPost(\n      data: {\n        author: $author\n        location: {x: $x, y: $y, s:$s}\n        title: $title\n        type: $type\n        text: $text\n        picture: $picture\n        video: $video\n        tags: $tags\n      }\n    ) \n  }\n"]);return $=function(){return e},e}var N=k()($());function L(){var e=Object(w.a)(["\n  subscription postSub($id: String!)\n  {\n    postSub(id: $id)\n    {\n      mutation\n      data{\n        user\n        text\n      }\n    }\n  }\n"]);return L=function(){return e},e}var P=k()(L());function T(){var e=Object(w.a)(["\n  subscription\n  {\n    newSub\n    {\n        author\n        location\n        {\n          x\n          y\n          s\n        }\n        type\n        title\n        text\n        picture\n        video\n        tags\n        likes\n        comments\n        {\n          user\n          text\n        }\n        time\n        id\n    }\n  }\n"]);return T=function(){return e},e}k()(T());function A(){var e=Object(w.a)(["\nmutation comment(\n  $id: String!\n  $user: String!\n  $text: String!\n) {\n  comment(\n      id: $id,\n      user: $user,\n      text: $text\n  ) \n}\n"]);return A=function(){return e},e}var z=k()(A());function M(){var e=Object(w.a)(["\nmutation editProfile(\n  $account: String!\n  $password: String\n  $email: String\n  $name: String\n  $picture: String\n  $age: Int\n  $phone: String\n  $address: String\n  $introduction: String\n\n) {\n  editProfile(data: {\n    account: $account\n    password: $password\n    email: $email\n    name: $name\n    picture: $picture\n    age: $age\n    phone: $phone\n    address: $address\n    introduction: $introduction\n  })\n}\n"]);return M=function(){return e},e}var U=k()(M());function _(){var e=Object(w.a)(["\n  query getProfile(\n    $account: String!\n    ){\n    getProfile(account: $account){\n        account\n        password\n        email\n        name\n        picture\n        age\n        phone\n        address\n        introduction\n    }\n  }\n"]);return _=function(){return e},e}var H=k()(_());function q(){var e=Object(w.a)(["\n  query getPostFromId(\n    $id: String!\n    ){\n    getPostFromId(id: $id){\n      author\n      location\n      {\n        x\n        y\n        s\n      }\n      type\n      title\n      text\n      picture\n      video\n      tags\n      likes\n      comments\n      {\n        user\n        text\n      }\n      time\n      id\n\n    }\n  }\n"]);return q=function(){return e},e}var D=k()(q());function G(){var e=Object(w.a)(["\nquery search(\n\t$text: String\n\t$type: Int!\n\t$limit: Int!\n) {\n\tsearch(\n\t\ttext: $text\n\t\ttype: $type\n\t\tlimit: $limit\n\t) {\n\t\tid\n\t\tauthor\n\t\tlocation{\n\t\t\tx\n\t\t\ty\n\t\t\ts\n\t\t}\n\t\ttype\n\t\ttitle\n\t\ttext\n\t\tpicture\n\t\tvideo\n\t\ttags\n\t\tlikes\n\t\tcomments{\n\t\t\tuser\n\t\t\ttext\n\t\t}\n\t\ttime\n\t\tid\n\t}\n}\n"]);return G=function(){return e},e}var W=k()(G());function Y(){var e=Object(w.a)(["\n  mutation like(\n    $id: String!\n    $user: String!\n  ) {\n    like(\n      id: $id\n      user: $user\n    ) \n  }\n"]);return Y=function(){return e},e}var J=k()(Y());function K(){var e=Object(w.a)(["\n  mutation unlike(\n    $id: String!\n    $user: String!\n  ) {\n    unlike(\n      id: $id\n      user: $user\n    ) \n  }\n"]);return K=function(){return e},e}var X=k()(K()),V="731618628480-i8dpp2um5acq3te2kb2gaaic8i4vsq28",Z=function(e){Object(x.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).getInformation=function(){var e=new XMLHttpRequest;if(""!==a.state.accessToken){var t="https://www.googleapis.com/oauth2/v3/userinfo?access_token="+a.state.accessToken;e.open("Get",t),e.send(),e.onreadystatechange=function(){if(4===e.readyState&&200===e.status&&!a.state.getdata){var t=JSON.parse(e.responseText);a.props.setpic(t.picture),a.props.setname(t.name),a.props.setemail(t.email),a.props.setaccount(t.email),a.props.setpassword(t.sub),a.props.setglogin(!0),a.state.getdata=!0}}}},a.state={isLogined:!1,accessToken:"",getdata:!1},a.login=a.login.bind(Object(O.a)(a)),a.handleLoginFailure=a.handleLoginFailure.bind(Object(O.a)(a)),a.logout=a.logout.bind(Object(O.a)(a)),a.handleLogoutFailure=a.handleLogoutFailure.bind(Object(O.a)(a)),a}return Object(g.a)(n,[{key:"login",value:function(e){e.accessToken&&this.setState((function(t){return{isLogined:!0,accessToken:e.accessToken}}))}},{key:"logout",value:function(e){this.setState((function(e){return{isLogined:!1,accessToken:""}}))}},{key:"handleLoginFailure",value:function(e){alert("Failed to log in")}},{key:"handleLogoutFailure",value:function(e){alert("Failed to log out")}},{key:"render",value:function(){return Object(a.jsxs)(a.Fragment,{children:[this.state.isLogined?Object(a.jsx)("div",{className:"g-signin2","data-onsuccess":"onSignIn",children:Object(a.jsx)(f.GoogleLogout,{icon:!1,clientId:V,buttonText:"Logout",onLogoutSuccess:this.logout,onFailure:this.handleLogoutFailure,render:function(e){return Object(a.jsx)("a",{className:"social",onClick:e.onClick,disabled:e.disabled,children:Object(a.jsx)(v.a,{icon:y.a,size:"2x"})})}})}):Object(a.jsx)(f.GoogleLogin,{icon:!1,clientId:V,buttonText:"Login",onSuccess:this.login,onFailure:this.handleLoginFailure,cookiePolicy:"single_host_origin",responseType:"code,token",render:function(e){return Object(a.jsx)("a",{className:"social",onClick:e.onClick,disabled:e.disabled,children:Object(a.jsx)(v.a,{icon:y.a,size:"2x"})})}}),this.getInformation()]})}}]),n}(c.PureComponent),Q=(n(349),n(39)),ee=function(){var e=Object(c.useState)(""),t=Object(b.a)(e,2),n=t[0],i=t[1],r=Object(c.useState)(""),o=Object(b.a)(r,2),s=o[0],d=o[1],m=Object(c.useState)(""),g=Object(b.a)(m,2),O=g[0],x=g[1],p=Object(c.useState)(""),f=Object(b.a)(p,2),y=f[0],w=f[1],S=Object(c.useState)(""),k=Object(b.a)(S,2),I=k[0],E=k[1],C=Object(c.useState)(""),R=Object(b.a)(C,2),$=R[0],N=R[1],L=Object(c.useState)(""),P=Object(b.a)(L,2),T=P[0],A=P[1],z=Object(c.useState)(""),M=Object(b.a)(z,2),U=M[0],_=M[1],H=Object(c.useState)(""),q=Object(b.a)(H,2),D=q[0],G=q[1],W=Object(c.useState)(""),Y=Object(b.a)(W,2),J=Y[0],K=Y[1],X=Object(c.useState)(""),V=Object(b.a)(X,2),ee=V[0],te=V[1],ne=Object(c.useState)(!1),ae=Object(b.a)(ne,2),ce=ae[0],ie=ae[1],re=Object(h.b)(B),oe=Object(b.a)(re,1)[0],se=Object(h.a)(F),le=Object(b.a)(se,2),de=le[0],ue=le[1],je=ue.loading,be=ue.data;Object(c.useEffect)((function(){null!=localStorage.getItem("account")&&i(localStorage.getItem("account"))}),[]);var he=Object(l.g)();function me(e){localStorage.setItem("theme",e),document.getElementById("theme-controller").className=e}Object(c.useEffect)((function(){"theme-dark"===localStorage.getItem("theme")?me("theme-dark"):me("theme-light")})),Object(c.useEffect)((function(){D&&J&&de({variables:{account:D,password:J}})}),[D,J,ee]),Object(c.useEffect)(Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(be&&ce&&!je){e.next=2;break}return e.abrupt("return");case 2:if("wrong password"!==be.login){e.next=11;break}alert("This email account has already been used"),A(""),_(""),G(""),K(""),te(""),e.next=37;break;case 11:if("account not found"!==be.login){e.next=34;break}return e.next=14,oe({variables:{name:T,email:U,account:D,password:J,picture:ee}});case 14:if("success"!==(t=e.sent).data.signup){e.next=21;break}localStorage.setItem("user",T),localStorage.setItem("account",D),he.replace("/main"),e.next=32;break;case 21:if("account already exist"!==t.data.signup){e.next=31;break}return alert("This email account has already been used"),A(""),_(""),G(""),K(""),te(""),e.abrupt("return");case 31:return e.abrupt("return");case 32:e.next=37;break;case 34:localStorage.setItem("account",n),localStorage.setItem("user",be.login),he.replace("/main");case 37:case"end":return e.stop()}}),e)}))),[be]),Object(c.useEffect)((function(){n&&s&&de({variables:{account:n,password:s}})}),[n,s]);var ge=function(){var e=Object(j.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n&&s){e.next=2;break}return e.abrupt("return");case 2:"wrong password"===be.login?(alert("wrong password"),d("")):"account not found"===be.login?(alert("account not found. If you don't have an account, click the sign up button now!"),i(""),d("")):(localStorage.setItem("account",n),localStorage.setItem("user",be.login),he.replace("/main"));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Oe=function(){var e=Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(O&&y&&I&&$){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,oe({variables:{name:O,email:y,account:I,password:$}});case 4:if("success"!==(t=e.sent).data.signup){e.next=11;break}localStorage.setItem("account",I),localStorage.setItem("user",O),he.replace("/main"),e.next=18;break;case 11:if("account already exist"!==t.data.signup){e.next=17;break}return alert("account already exist"),E(""),e.abrupt("return");case 17:return e.abrupt("return");case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{className:"theme-dark",id:"theme-controller",children:[Object(a.jsx)("div",{className:"top",children:Object(a.jsx)("button",{id:"themeswitch",onClick:function(){"theme-dark"===localStorage.getItem("theme")?me("theme-light"):me("theme-dark")},children:Object(a.jsx)(v.a,{icon:Q.b})})}),Object(a.jsxs)("div",{className:"container",id:"container",children:[Object(a.jsx)("div",{className:"form-container sign-up-container",children:Object(a.jsxs)("form",{children:[Object(a.jsx)("h1",{children:"Create Account"}),Object(a.jsx)("span",{children:"or use your email for registration"}),Object(a.jsx)("input",{type:"text",placeholder:"Name",value:O,required:!0,onChange:function(e){return x(e.target.value)}}),Object(a.jsx)("input",{type:"email",placeholder:"Email",value:y,required:!0,onChange:function(e){return w(e.target.value)}}),Object(a.jsx)("input",{type:"text",placeholder:"Account",value:I,required:!0,onChange:function(e){return E(e.target.value)}}),Object(a.jsx)("input",{type:"password",placeholder:"Password",value:$,required:!0,onChange:function(e){return N(e.target.value)}}),Object(a.jsx)("button",{type:"submit",onClick:Oe,id:"signupBtn",children:"Sign Up"})]})}),Object(a.jsx)("div",{className:"form-container sign-in-container",children:Object(a.jsxs)("form",{children:[Object(a.jsx)("h1",{children:"Sign in"}),Object(a.jsx)("div",{className:"social-container",children:Object(a.jsx)(Z,{setname:function(e){return A(e)},setemail:function(e){return _(e)},setpic:function(e){return te(e)},setaccount:function(e){return G(e)},setpassword:function(e){return K(e)},setglogin:function(e){return ie(e)}})}),Object(a.jsx)("span",{children:"or use your account"}),Object(a.jsx)("input",{type:"account",placeholder:"Account",value:n,required:!0,onChange:function(e){return i(e.target.value)}}),Object(a.jsx)("input",{type:"password",placeholder:"Password",value:s,required:!0,onChange:function(e){return d(e.target.value)}}),Object(a.jsx)("a",{href:"#/Main",children:"Forgot your password?"}),Object(a.jsx)("button",{type:"submit",onClick:ge,id:"signinBtn",children:"Sign In"})]})}),Object(a.jsx)("div",{className:"overlay-container",children:Object(a.jsxs)("div",{className:"overlay",children:[Object(a.jsxs)("div",{className:"overlay-panel overlay-left",children:[Object(a.jsx)("h1",{children:"Welcome Back!"}),Object(a.jsx)("p",{children:"Already have an account?"}),Object(a.jsx)("button",{className:"ghost",id:"signIn",onClick:function(){document.getElementById("container").classList.remove("right-panel-active")},children:"Sign In"})]}),Object(a.jsxs)("div",{className:"overlay-panel overlay-right",children:[Object(a.jsx)("h1",{children:"Hello, Friend!"}),Object(a.jsx)("p",{children:"Enter your personal details and start journey with us"}),Object(a.jsx)("button",{className:"ghost",id:"signUp",onClick:function(){document.getElementById("container").classList.add("right-panel-active")},children:"Sign Up"})]})]})})]}),Object(a.jsx)("footer",{children:Object(a.jsxs)("p",{children:["Created with  by",Object(a.jsx)("a",{target:"_blank",href:"https://florin-pop.com",children:"Florin Pop"}),"- Read how I created this and how you can join the challenge",Object(a.jsx)("a",{target:"_blank",href:"https://www.florin-pop.com/blog/2019/03/double-slider-sign-in-up-form/",children:"here"}),"."]})})]})},te=(n(354),n(118)),ne=(n(549),n(72)),ae=n(51),ce=(n(551),n(680)),ie=n(9),re=n(49),oe=n(315),se=n(702),le=n(689),de=n(6),ue=n(701),je=n(685),be=n(686),he=n(684),me=n(170),ge=n(688),Oe=n(687),xe=n(293),pe=n.n(xe),fe=n(295),ve=n.n(fe),ye=n(294),we=n.n(ye),Se=240,ke=Object(ce.a)((function(e){return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:Se,width:"calc(100% - ".concat(Se,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},hide:{display:"none"},drawer:{width:Se,flexShrink:0,whiteSpace:"nowrap"},drawerOpen:{width:Se,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:Object(ae.a)({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:e.spacing(7)+1},e.breakpoints.up("sm"),{width:e.spacing(9)+1}),toolbar:Object(ne.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1)},e.mixins.toolbar),content:{flexGrow:1,padding:e.spacing(3)}}})),Ie=(Object(ie.a)({paper:{border:"1px solid #d3d4d5"}})((function(e){return Object(a.jsx)(oe.a,Object(ne.a)({elevation:0,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},e))})),Object(ie.a)((function(e){return{root:{"&:focus":{backgroundColor:e.palette.primary.main,"& .MuiListItemIcon-root, & .MuiListItemText-primary":{color:e.palette.common.white}}}}}))(se.a)),Fe=function(){var e,t,n=ke(),c=i.a.useState(0),r=Object(b.a)(c,2);r[0],r[1];var o=i.a.useState(null),l=Object(b.a)(o,2),d=(l[0],l[1],Object(re.a)()),u=i.a.useState(!1),j=Object(b.a)(u,2),h=j[0],m=j[1];return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("div",{className:n.root,children:[Object(a.jsx)(he.a,{}),Object(a.jsx)(je.a,{position:"fixed",className:Object(de.a)(n.appBar,Object(ae.a)({},n.appBarShift,h)),children:Object(a.jsxs)(be.a,{children:[Object(a.jsx)(Oe.a,{color:"inherit","aria-label":"open drawer",onClick:function(){m(!0)},edge:"start",className:Object(de.a)(n.menuButton,Object(ae.a)({},n.hide,h)),children:Object(a.jsx)(pe.a,{})}),Object(a.jsx)(me.a,{variant:"h6",noWrap:!0,children:"Near To U"})]})}),Object(a.jsxs)(ue.a,{variant:"permanent",className:Object(de.a)(n.drawer,(e={},Object(ae.a)(e,n.drawerOpen,h),Object(ae.a)(e,n.drawerClose,!h),e)),classes:{paper:Object(de.a)((t={},Object(ae.a)(t,n.drawerOpen,h),Object(ae.a)(t,n.drawerClose,!h),t))},children:[Object(a.jsx)("div",{className:n.toolbar,children:Object(a.jsx)(Oe.a,{onClick:function(){m(!1)},children:"rtl"===d.direction?Object(a.jsx)(we.a,{}):Object(a.jsx)(ve.a,{})})}),Object(a.jsx)(ge.a,{}),Object(a.jsxs)(Ie,{children:[Object(a.jsx)(Oe.a,{href:"/#/main",children:Object(a.jsx)(le.a,{children:Object(a.jsx)(v.a,{icon:Q.h,size:"1x"})})}),Object(a.jsx)(s.b,{to:"/main",children:"main"})]}),Object(a.jsxs)(Ie,{children:[Object(a.jsx)(Oe.a,{href:"/#/main/search",children:Object(a.jsx)(le.a,{children:Object(a.jsx)(v.a,{icon:Q.g,size:"1x"})})}),Object(a.jsx)(s.b,{to:"/main/search",children:"search"})]}),Object(a.jsxs)(Ie,{children:[Object(a.jsx)(Oe.a,{href:"/#/main/post",children:Object(a.jsx)(le.a,{children:Object(a.jsx)(v.a,{icon:Q.f,size:"1x"})})}),Object(a.jsx)(s.b,{to:"/main/post",children:"post"})]}),Object(a.jsxs)(Ie,{children:[Object(a.jsx)(Oe.a,{href:"/#/main/profile",children:Object(a.jsx)(le.a,{children:Object(a.jsx)(v.a,{icon:Q.a,size:"1x"})})}),Object(a.jsx)(s.b,{to:"/main/profile",children:"profile"})]}),Object(a.jsxs)(Ie,{children:[Object(a.jsx)(Oe.a,{href:"/#/main/videoEditor",children:Object(a.jsx)(le.a,{children:Object(a.jsx)(v.a,{icon:Q.e,size:"1x"})})}),Object(a.jsx)(s.b,{to:"/main/videoEditor",children:"edit video"})]})]}),Object(a.jsx)("main",{className:n.content,children:Object(a.jsx)("div",{className:n.toolbar})})]})})},Ee=n(213),Be=n(690),Ce=n(691),Re=n(692),$e=n(693),Ne=n(694),Le=n(695),Pe=n(703),Te=n(169),Ae=n(297),ze=n.n(Ae),Me=n(298),Ue=n.n(Me),_e=n(698),He=n(696),qe=n(296),De=n.n(qe),Ge=Object(ce.a)((function(e){return{root:{maxWidth:"100%",background:"#364e68"},media:{height:0,paddingTop:"56.25%"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:Te.a[500]}}})),We=function(e){var t=Ge(),n=i.a.useState(!1),r=Object(b.a)(n,2),o=r[0],s=r[1],l=Object(c.useState)(localStorage.getItem("user")),d=Object(b.a)(l,2),u=d[0],j=(d[1],Object(c.useRef)()),m=Object(c.useState)(!1),g=Object(b.a)(m,2),O=g[0],x=g[1],p=Object(h.b)(z),f=Object(b.a)(p,1)[0],v=Object(h.c)(D,{variables:{id:e.id}}),y=(v.loading,v.error,v.data),w=v.subscribeToMore,S=Object(h.b)(J),k=Object(b.a)(S,1)[0],I=Object(h.b)(X),F=Object(b.a)(I,1)[0],E="#f7f7e8",B="black";switch(e.type){case"red":E="#ff577f",B="black";break;case"orange":E="#c24914",B="black";break;case"yellow":E="#fc8621",B="black";break;case"green":E="#9dad7f",B="white";break;case"blue":E="#557174",B="white";break;case"purple":E="#c1a1d3",B="white"}Object(c.useEffect)((function(){e.likes.filter((function(e){e==u&&x(!0)})),w({document:P,variables:{id:e.id},updateQuery:function(e,t){var n=t.subscriptionData;if(!n.data)return e;if("COMMENTADDED"===n.data.postSub.mutation){var a=n.data.postSub.data;return{getPostFromId:Object(ne.a)(Object(ne.a)({_typename:e.getPostFromId._typename},e.getPostFromId),{},{comments:[].concat(Object(Ee.a)(e.getPostFromId.comments),[a])})}}return"LIKED"===n.data.postSub.mutation?(x(!0),{getPostFromId:Object(ne.a)(Object(ne.a)({},e.getPostFromId),{},{likes:[].concat(Object(Ee.a)(e.getPostFromId.likes),[u])})}):"UNLIKED"===n.data.postSub.mutation?(x(!1),{getPostFromId:Object(ne.a)(Object(ne.a)({},e.getPostFromId),{},{likes:e.getPostFromId.likes.filter((function(e){if(e!==u)return e}))})}):void 0}})}),[w]);return Object(a.jsxs)(Be.a,{className:t.root,style:{background:"theme-dark"===e.Ctheme?"#364e68":"#98ccd3",borderRadius:"10px"},children:[Object(a.jsx)(Ce.a,{style:{background:E,color:B,width:"100%"},avatar:Object(a.jsx)(Pe.a,{"aria-label":"recipe",className:t.avatar,children:e.author[0]}),title:e.title,subheader:e.time}),Object(a.jsxs)("div",{style:{maxHeight:"37vh",overflowY:"scroll",overflowX:"hidden",width:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-around"},children:[Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),e.picture?Object(a.jsx)(Re.a,{className:t.media,image:e.picture,style:{width:"360px",height:"360px"},controls:!0,title:"Paella dish"}):Object(a.jsx)(a.Fragment,{}),e.video?Object(a.jsx)(De.a,{url:e.video,playing:!1,controls:!0,width:"360px",height:"360px",style:{margin:"0px auto"}}):Object(a.jsx)(a.Fragment,{}),Object(a.jsxs)($e.a,{children:[Object(a.jsx)(me.a,{variant:"body1",color:B,component:"p",children:e.text}),Object(a.jsxs)(me.a,{variant:"body2",color:B,component:"p",children:[e.tags.length>0?Object(a.jsx)(a.Fragment,{children:"tags:"}):Object(a.jsx)(a.Fragment,{})," ",e.tags.map((function(e,t){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("span",{style:{color:"blue",textDecoration:"underline"},children:e}),Object(a.jsx)("span",{children:" "})]})}))]})]})]}),Object(a.jsxs)(Ne.a,{justify:"space-between",container:!0,spacing:50,children:[Object(a.jsx)(Oe.a,{"aria-label":"add to favorites",style:{float:"left"},children:Object(a.jsx)(ze.a,{color:O?"secondary":"default",onClick:function(){x(!O),O?F({variables:{id:e.id,user:u}}):!1===O&&k({variables:{id:e.id,user:u}})}})}),Object(a.jsx)("p",{children:y?y.getPostFromId.likes.length:0}),Object(a.jsx)(Oe.a,{className:Object(de.a)(t.expand,Object(ae.a)({},t.expandOpen,o)),onClick:function(){s(!o)},"aria-expanded":o,"aria-label":"show more",children:Object(a.jsx)(Ue.a,{})})]}),Object(a.jsxs)(Le.a,{style:{maxHeight:"37vh",overflowY:"scroll",overflowX:"hidden",width:"100%"},in:o,timeout:"auto",unmountOnExit:!0,children:[Object(a.jsx)("div",{style:{paddingLeft:"10px"},children:"Comments: "}),Object(a.jsxs)("div",{children:[Object(a.jsx)(Be.a,{children:Object(a.jsx)(Ce.a,{avatar:Object(a.jsx)(Pe.a,{"aria-label":"recipe",className:t.avatar,children:u[0]}),title:Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(_e.a,{style:{borderRadius:"10",float:"left"},placeholder:"Addcomment",multiline:!0,rows:1,rowsMax:2,id:e.id,ref:j}),Object(a.jsx)(He.a,{onClick:function(){f({variables:{id:e.id,user:u,text:document.getElementById(e.id).value}}),document.getElementById(e.id).value=""},id:e.id,children:"Send"})]})})}),y?y.getPostFromId.comments.map((function(e,n){var c=e.user,i=e.text;return Object(a.jsx)(Be.a,{children:Object(a.jsx)(Ce.a,{avatar:Object(a.jsx)(Pe.a,{"aria-label":"recipe",className:t.avatar,children:c[0]}),title:i})})})):Object(a.jsx)("div",{})]})]})]})},Ye=(n(569),n(299)),Je=Object(ce.a)((function(e){return{root:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper},nested:{paddingLeft:e.spacing(4)}}})),Ke=function(){Je();var e=i.a.useState(!0),t=Object(b.a)(e,2),n=(t[0],t[1],i.a.useState(!1)),r=Object(b.a)(n,2),o=(r[0],r[1],i.a.useState(!1)),s=Object(b.a)(o,2),l=(s[0],s[1],i.a.useState(!1)),d=Object(b.a)(l,2),u=(d[0],d[1],Object(c.useState)(localStorage.getItem("user"))),j=Object(b.a)(u,2),m=(j[0],j[1],Object(c.useState)(25.01)),g=Object(b.a)(m,2),O=g[0],x=g[1],p=Object(c.useState)(121.53),f=Object(b.a)(p,2),v=f[0],y=f[1],w=Object(c.useState)([]),S=Object(b.a)(w,2),k=S[0],I=S[1],F=Object(h.c)(R,{variables:{x:O,y:v,s:.5}}),E=F.loading,B=F.error,C=F.data,$=F.refetch;Object(c.useMemo)((function(){return E||B?null:(I(C.getPosts),C)}),[E,B,C]);function N(e){localStorage.setItem("theme",e),document.getElementById("theme-controller").className=e}Object(c.useEffect)((function(){document.querySelectorAll(".images-wrap")[0].childNodes[0].setAttribute("aria-hidden","ture"),document.querySelectorAll(".images-wrap")[0].childNodes[document.querySelectorAll(".images-wrap")[0].childNodes.length-1].setAttribute("aria-hidden","true"),"theme-dark"===localStorage.getItem("theme")?N("theme-dark"):N("theme-light")})),setInterval((function(){navigator.geolocation.getCurrentPosition((function(e){x(e.coords.latitude),y(e.coords.longitude)}))}),3e3);var L=Object(te.withScriptjs)(Object(te.withGoogleMap)((function(){return Object(a.jsx)(te.GoogleMap,{zoom:15,center:{lat:O,lng:v},children:void 0!==k?k.map((function(e,t){var n=e.location;return Object(a.jsx)(te.Marker,{position:{lat:n.x,lng:n.y}})})):Object(a.jsx)(te.Marker,{position:{lat:O,lng:v}})})})));return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)("div",{className:"theme-dark",id:"theme-controller",children:Object(a.jsxs)("div",{className:"main",children:[Object(a.jsx)(Fe,{}),Object(a.jsx)("script",{defer:!0,src:"https://maps.googleapis.com/maps/api/js?key=AIzaSyBES8rvsfwrOtLZ5S4EvedrOJ4OSIR49UY&callback=initMap"}),Object(a.jsx)("div",{className:"main-center",children:Object(a.jsx)("div",{style:{height:"100vh",width:"100vh",margin:0,padding:0},id:"map",children:Object(a.jsx)(L,{googleMapURL:"https://maps.googleapis.com/maps/api/js?key=AIzaSyC4R6AN7SmujjPUIGKdyao2Kqitzr1kiRg&v=3.exp&libraries=geometry,drawing,places&key=AIzaSyBES8rvsfwrOtLZ5S4EvedrOJ4OSIR49UY",loadingElement:Object(a.jsx)("div",{style:{height:"80vh",width:"80vh"}}),containerElement:Object(a.jsx)("div",{style:{height:"85vh",width:"85vh"}}),mapElement:Object(a.jsx)("div",{style:{height:"100%"}})})})}),Object(a.jsx)("div",{className:"main-right",children:Object(a.jsx)("div",{children:Object(a.jsx)(Ye.Slide,{easing:"ease",children:void 0!==k?k.map((function(e,t){var n=e.author,c=e.title,i=e.type,r=e.picture,o=e.text,s=e.time,l=e.tags,d=e.id,u=e.comments,j=e.video,b=e.likes;return Object(a.jsx)("div",{className:"each-slide",children:Object(a.jsx)(We,{title:c,type:i,author:n[0],picture:r,text:o,time:s,id:d,tags:l,comments:u,video:j,Ctheme:localStorage.getItem("theme"),likes:b})},t)})):Object(a.jsx)("div",{})})})}),Object(a.jsx)("div",{style:{position:"absolute",right:"1%",top:"8%",backgroundColor:"red"},children:Object(a.jsx)("button",{onClick:function(){$()},children:"REFRESH"})})]})})})},Xe=(n(570),n(300)),Ve=(n(571),n(310)),Ze=n.n(Ve),Qe=n(311),et=n.n(Qe),tt=n(309),nt=n.n(tt),at=n(697),ct=at.a.TextArea,it=(Object(ce.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)}},input:{display:"none"}}})),function(){var e=Object(c.useRef)(null),t=Object(c.useRef)(null),n=Object(c.useRef)(null),i=Object(c.useState)(localStorage.getItem("user")),r=Object(b.a)(i,2),o=r[0],s=(r[1],Object(c.useState)({x:25.01,y:121.53,s:15})),l=Object(b.a)(s,2),d=l[0],m=l[1],g=Object(c.useState)("white"),O=Object(b.a)(g,2),x=(O[0],O[1],Object(c.useState)("")),p=Object(b.a)(x,2),f=p[0],y=p[1],w=Object(c.useState)(""),S=Object(b.a)(w,2),k=S[0],I=S[1],F=Object(h.b)(N),E=Object(b.a)(F,1)[0];Object(c.useEffect)((function(){console.log(o)}),[]),setInterval((function(){navigator.geolocation.getCurrentPosition((function(e){m({x:e.coords.latitude,y:e.coords.longitude,s:15})}))}),1e4);var B,C,R={audio:!0,video:{width:300,height:300}};function $(){return L.apply(this,arguments)}function L(){return(L=Object(j.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.mediaDevices.getUserMedia(R);case 3:P(e.sent),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("navigator.mediaDevices.getUserMedia: ".concat(e.t0.toString()));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function P(e){window.stream=e;var t=document.getElementById("video-holder");t.innerHTML="";var n=document.createElement("video");n.setAttribute("id","raw-video"),n.setAttribute("playsInline",null),n.setAttribute("autoPlay",null),n.muted=!0,n.srcObject=e,t.appendChild(n)}function T(){document.getElementById("video-holder").innerHTML="";var e=document.getElementById("captureButton"),t=document.getElementById("recordButton");e.style.display="none",t.style.display="none"}function A(e){if(console.log("handleDataAvailable",e),e.data&&e.data.size>0){C.push(e.data),console.log(C);var t=new Blob(C,{type:"video/webm"}),n=new FileReader;n.readAsDataURL(t),n.onload=function(){var e=n.result;I(e)}}}var z=localStorage.getItem("theme");return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("div",{className:z,id:"theme-controller",children:[Object(a.jsx)(Fe,{className:"nav"}),Object(a.jsxs)("div",{className:"main-div-post",children:[Object(a.jsxs)("div",{className:"main-center-post",id:"mainPost",style:{height:"80%"},children:[Object(a.jsx)(at.a,{placeholder:"Title",ref:t,style:{marginBottom:10,borderRadius:"5px"},onKeyDown:function(t){"Enter"===t.key&&e.current.focus()}}),Object(a.jsx)(ct,{rows:4,placeholder:"Type your text here...",style:{borderRadius:"5px"},ref:e}),Object(a.jsxs)("div",{children:[Object(a.jsx)("label",{htmlFor:"type",style:{fontSize:"14px"},children:Object(a.jsx)("h6",{children:"Select a type: "})}),Object(a.jsxs)("select",{style:{fontSize:"14px",color:"black"},name:"type",ref:n,children:[Object(a.jsx)("option",{value:"",children:"-- --"}),Object(a.jsx)("option",{value:"red",children:"Emergency"}),Object(a.jsx)("option",{value:"orange",children:"Activity"}),Object(a.jsx)("option",{value:"yellow",children:"Course"}),Object(a.jsx)("option",{value:"green",children:"Share"}),Object(a.jsx)("option",{value:"blue",children:"Mood"}),Object(a.jsx)("option",{value:"purple",children:"Things lost"})]}),Object(a.jsx)(Oe.a,{onClick:function(){$(),document.getElementById("mediaResult").innerHTML="";var e=document.getElementById("recordButton"),t=document.getElementById("captureButton");e.textContent="Start Recording",t.style.display="none",e.style.display="inline-block",e.addEventListener("click",(function(){if("Start Recording"===e.textContent)!function(){C=[];try{B=new MediaRecorder(window.stream,{mimeType:"video/webm;codecs=vp9,opus"})}catch(e){return void console.error("Exception while creating MediaRecorder:",e)}document.getElementById("recordButton").innerHTML="Stop Recording",B.onstop=function(e){console.log("Recorder stopped: ",e),console.log("Recorded Blobs: ",C)},B.ondataavailable=A,B.start(),console.log("MediaRecorder started",B)}(),console.log("nnn"),console.log(B),console.log(e.textContent);else{B.stop(),e.textContent="Start Recording";var t=document.getElementById("playButton");t.innerHTML="Play Recorded Video",t.style.display="inline-block",document.getElementById("downloadButton").style.display="inline-block"}}))},className:"contexts",children:Object(a.jsx)(nt.a,{})}),Object(a.jsx)(Oe.a,{onClick:function(){$(),document.getElementById("mediaResult").innerHTML="";var e=document.getElementById("playButton"),t=document.getElementById("recordButton"),n=document.getElementById("captureButton");I(""),document.getElementById("downloadButton").style.display="none",e.style.display="none",n.style.display="inline-block",t.style.display="none",n.addEventListener("click",(function(){var e=document.getElementById("mediaResult");e.innerHTML="";var t=document.createElement("canvas");t.setAttribute("id","canvas"),t.setAttribute("width","300"),t.setAttribute("height","300"),e.appendChild(t);var n=t.getContext("2d"),a=document.getElementById("raw-video");n.drawImage(a,0,0,300,300),y(t.toDataURL("image/png"))}))},className:"contexts",children:Object(a.jsx)(Ze.a,{})}),Object(a.jsxs)(Oe.a,{component:"label",children:[Object(a.jsx)(et.a,{style:{color:"theme-dark"===z?"#98ccd3":"#364e68"}}),Object(a.jsx)("input",{type:"file",onChange:function(e){var t,n=URL.createObjectURL(null===(t=e.target.files)||void 0===t?void 0:t.item(0));!function(e){var t=document.getElementById("video-holder");t.innerHTML="";var n=document.createElement("img");n.setAttribute("id","raw-img"),n.style.maxWidth="300px",n.style.maxHeight="300px",n.setAttribute("src",e),t.appendChild(n)}(n),function(e){var t=new Image;t.onload=function(){var e=document.createElement("canvas");e.width=300,e.height=300,e.getContext("2d").drawImage(this,0,0,300,300),y(e.toDataURL("image/png"))},t.src=e,T(),I(""),document.getElementById("downloadButton").style.display="none";var n=document.getElementById("mediaResult");n.innerHTML="";var a=document.createElement("img");a.setAttribute("id","newImg"),a.style.maxWidth="300px",a.style.maxHeight="300px",a.src=e,n.appendChild(a)}(n)},hidden:!0})]}),Object(a.jsx)(He.a,{onClick:function(){if(o&&d&&t.current.state.value&&n.current.value){var a=e.current.state.value.replace(/\n/g," ").split("#"),c=Object(Xe.a)(a),i=(c[0],c.slice(1)),r=[];i.map((function(e){r.push(e.split(" ")[0])})),E({variables:{author:o,x:d.x,y:d.y,s:d.s,title:t.current.state.value,type:n.current.value,text:e.current.state.value,picture:f,video:k,tags:r}}),y(""),I(""),t.current.state.value="",e.current.state.value="",n.current.value="",T(),document.getElementById("downloadButton").style.display="none",document.getElementById("mediaResult").innerHTML=""}},className:"contexts",children:"post"})]}),Object(a.jsxs)("div",{style:{textAlign:"center"},children:[Object(a.jsx)("button",{id:"playButton",onClick:function(){var e=document.getElementById("mediaResult");e.innerHTML="";var t=document.createElement("video");t.setAttribute("id","videoPrev"),t.setAttribute("width","300"),t.setAttribute("height","300"),e.appendChild(t),t.controls=!0,t.src=k,t.play()},className:"contexts",style:{display:"none"},children:"Play recorded"}),Object(a.jsx)("button",{id:"removePicture",onClick:function(){y(""),I(""),document.getElementById("mediaResult").innerHTML=""},className:"contexts",children:" Remove Picture Or Video"}),Object(a.jsx)("button",{id:"cancelButton",onClick:T,className:"contexts",children:" Confirm(close camera view) "}),Object(a.jsx)("button",{id:"downloadButton",onClick:function(){var e=k,t=document.createElement("a");t.style.display="none",t.href=e,t.download="test.mp4",document.body.appendChild(t),t.click(),setTimeout((function(){document.body.removeChild(t),window.URL.revokeObjectURL(e)}),100)},className:"contexts",style:{display:"none"},children:Object(a.jsx)(v.a,{icon:Q.d})})]}),Object(a.jsx)("div",{id:"mediaResult",style:{width:"100%",textAlign:"center"}})]}),Object(a.jsxs)("div",{className:"main-right-post",id:"mainCam",children:[Object(a.jsx)("div",{children:Object(a.jsx)(v.a,{icon:Q.c,size:"5x"})}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)("div",{className:"video-holder",id:"video-holder"}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsxs)("div",{style:{margin:"0 auto",textAlign:"center"},children:[Object(a.jsx)("button",{id:"captureButton",style:{display:"none"},children:"Capture Image"}),Object(a.jsx)("button",{id:"recordButton",style:{display:"none"},children:"Start Recording"})]})]})]})]})})}),rt=(n(596),n(312)),ot=n.n(rt),st=function(){var e=Object(c.useState)(localStorage.getItem("account")),t=Object(b.a)(e,2),n=t[0],i=t[1],r=Object(c.useState)(""),o=Object(b.a)(r,2),s=o[0],l=o[1],d=Object(c.useState)(""),u=Object(b.a)(d,2),j=u[0],m=u[1],g=Object(c.useState)(""),O=Object(b.a)(g,2),x=O[0],p=O[1],f=Object(c.useState)(""),y=Object(b.a)(f,2),w=y[0],S=y[1],k=Object(c.useState)(""),I=Object(b.a)(k,2),F=I[0],E=I[1],B=Object(c.useState)(""),C=Object(b.a)(B,2),R=C[0],$=C[1],N=Object(c.useState)(""),L=Object(b.a)(N,2),P=L[0],T=L[1],A=Object(c.useState)(""),z=Object(b.a)(A,2),M=z[0],_=z[1],q=Object(h.c)(H,{variables:{account:n}}),D=q.loading,G=q.error,W=q.data,Y=Object(h.b)(U),J=Object(b.a)(Y,1)[0];Object(c.useMemo)((function(){return D||G?null:(i(W.getProfile?W.getProfile.account:""),l(W.getProfile?W.getProfile.password:""),m(W.getProfile?W.getProfile.email:""),p(W.getProfile?W.getProfile.name:""),S(W.getProfile?W.getProfile.picture:""),E(W.getProfile?W.getProfile.age:""),$(W.getProfile?W.getProfile.phone:""),T(W.getProfile?W.getProfile.address:""),_(W.getProfile?W.getProfile.introduction:""),W)}),[D,G,W]);function K(e){localStorage.setItem("theme",e),document.getElementById("theme-controller").className=e}Object(c.useEffect)((function(){"theme-dark"===localStorage.getItem("theme")?K("theme-dark"):K("theme-light")}));return Object(c.useEffect)((function(){})),Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("div",{className:"theme-dark",id:"theme-controller",children:[Object(a.jsx)(Fe,{className:"nav"}),Object(a.jsxs)("div",{className:"main-div-profile",children:[Object(a.jsxs)("div",{className:"profile_img",children:[Object(a.jsx)("img",{className:"profile_pic",src:w||"https://ern-dubai.com/wp-content/uploads/2019/04/facebook-anonymous-app.jpg"}),Object(a.jsx)("input",{accept:"image/*",className:"input",id:"icon-button-file",type:"file",onChange:function(e){var t;e.preventDefault(),console.log(e.target.value);var a=URL.createObjectURL(null===(t=e.target.files)||void 0===t?void 0:t.item(0)),c=new Image;c.onload=function(){var e=document.createElement("canvas");e.width=230,e.height=230,e.getContext("2d").drawImage(this,0,0,230,230),S(e.toDataURL("image/png")),J({variables:{account:n,picture:e.toDataURL("image/png")}})},c.src=a}}),Object(a.jsx)("label",{htmlFor:"icon-button-file",children:Object(a.jsx)(Oe.a,{color:"primary","aria-label":"upload picture",component:"span",className:"change_photo",children:Object(a.jsx)(ot.a,{})})}),Object(a.jsx)("button",{id:"themeswitch",onClick:function(){"theme-dark"===localStorage.getItem("theme")?K("theme-light"):K("theme-dark")},children:Object(a.jsx)(v.a,{icon:Q.b})})]}),Object(a.jsxs)("div",{className:"profile",children:[Object(a.jsxs)("div",{style:{width:"100%"},children:[Object(a.jsx)("p",{style:{float:"left",width:"120px",fontSize:"15px"},children:"account:"}),Object(a.jsx)("p",{style:{float:"left",width:"200px",fontSize:"15px"},children:n})]}),Object(a.jsxs)("div",{style:{float:"left",width:"100%"},children:[Object(a.jsx)("p",{style:{float:"left",width:"120px",fontSize:"15px"},children:"name:"}),x?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("p",{style:{float:"left",width:"200px",fontSize:"15px"},children:x}),Object(a.jsx)(He.a,{id:"button",onClick:function(){p("")},children:"reset"})]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("input",{id:"name",className:"name",style:{float:"left",width:"200px"}}),Object(a.jsx)("label",{htmlFor:"name",children:Object(a.jsx)(He.a,{id:"button",onClick:function(e){J({variables:{account:n,name:document.getElementById("name").value}}),p(document.getElementById("name").value)},children:"enter"})})]})]}),Object(a.jsxs)("div",{style:{float:"left",width:"100%"},children:[Object(a.jsx)("p",{style:{float:"left",width:"120px",fontSize:"15px"},children:"phone:"}),R?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("p",{style:{float:"left",width:"200px",fontSize:"15px"},children:R}),Object(a.jsx)(He.a,{id:"button",onClick:function(){$("")},children:"reset"})]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("input",{id:"phone",style:{float:"left",width:"200px"}}),Object(a.jsx)(He.a,{id:"button",onClick:function(e){J({variables:{account:n,phone:document.getElementById("phone").value}}),$(document.getElementById("phone").value)},children:"enter"})]})]}),Object(a.jsxs)("div",{style:{float:"left",width:"100%"},children:[Object(a.jsx)("p",{style:{float:"left",width:"120px",fontSize:"15px"},children:"address:"}),P?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("p",{style:{float:"left",width:"200px",fontSize:"15px"},children:P}),Object(a.jsx)(He.a,{id:"button",onClick:function(){T("")},children:"reset"})]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("input",{id:"address",style:{float:"left",width:"200px"}}),Object(a.jsx)(He.a,{id:"button",onClick:function(e){J({variables:{account:n,address:document.getElementById("address").value}}),T(document.getElementById("address").value)},children:"enter"})]})]}),Object(a.jsxs)("div",{style:{float:"left",width:"100%"},children:[Object(a.jsx)("p",{style:{float:"left",width:"120px",fontSize:"15px"},children:"email:"}),j?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("p",{style:{float:"left",width:"200px",fontSize:"15px"},children:j}),Object(a.jsx)(He.a,{id:"button",onClick:function(){m("")},children:"reset"})]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("input",{id:"email",style:{float:"left",width:"200px"}}),Object(a.jsx)(He.a,{id:"button",onClick:function(e){J({variables:{account:n,email:document.getElementById("email").value}}),m(document.getElementById("email").value)},children:"enter"})]})]}),Object(a.jsxs)("div",{style:{float:"left",width:"100%"},children:[Object(a.jsx)("p",{style:{float:"left",width:"120px",fontSize:"15px"},children:"password:"}),s?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("p",{style:{float:"left",width:"200px",fontSize:"15px"},children:s}),Object(a.jsx)(He.a,{id:"button",onClick:function(){l("")},children:"reset"})]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("input",{id:"password",style:{float:"left",width:"200px"}}),Object(a.jsx)(He.a,{id:"button",onClick:function(e){J({variables:{account:n,password:document.getElementById("password").value}}),l(document.getElementById("password").value)},children:"enter"})]})]}),Object(a.jsxs)("div",{style:{float:"left",width:"100%"},children:[Object(a.jsx)("p",{style:{float:"left",width:"120px",fontSize:"15px"},children:"age:"}),F?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("p",{style:{float:"left",width:"200px",fontSize:"15px"},children:F}),Object(a.jsx)(He.a,{id:"button",onClick:function(){E("")},children:"reset"})]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("input",{id:"age",style:{float:"left",width:"200px"}}),Object(a.jsx)(He.a,{id:"button",onClick:function(e){J({variables:{account:n,age:parseInt(document.getElementById("age").value)}}),E(document.getElementById("age").value)},children:"enter"})]})]}),Object(a.jsxs)("div",{style:{float:"left",width:"100%"},children:[Object(a.jsx)("p",{style:{float:"left",width:"120px",fontSize:"15px"},children:"introduction:"}),M?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("p",{style:{float:"left",width:"200px",fontSize:"15px"},children:M}),Object(a.jsx)(He.a,{id:"button",onClick:function(){_("")},children:"reset"})]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("input",{id:"introduction",style:{float:"left",width:"200px"}}),Object(a.jsx)(He.a,{id:"button",onClick:function(e){J({variables:{account:n,introduction:document.getElementById("introduction").value}}),_(document.getElementById("introduction").value)},children:"enter"})]})]})]})]})]})})},lt=(n(597),n(203)),dt=n.n(lt),ut=Object(ce.a)((function(e){return{root:{maxWidth:"100%",background:"#364e68"},media:{height:0,paddingTop:"56.25%"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:Te.a[500]}}})),jt=function(e){var t=ut(),n=(Object(c.useRef)(),i.a.useState(!1)),r=Object(b.a)(n,2),o=r[0],s=r[1],l=e.p;return Object(a.jsx)("div",{children:Object(a.jsxs)(Be.a,{children:[Object(a.jsx)(Ce.a,{title:l.title,subheader:l.author,avatar:Object(a.jsx)(Pe.a,{className:t.avatar,children:l.author})}),Object(a.jsx)("button",{onClick:function(){window.open(l.picture,"_blank")},style:{padding:"20px",color:"red"},children:"image"}),Object(a.jsx)(Oe.a,{className:Object(de.a)(t.expand,Object(ae.a)({},t.expandOpen,o)),onClick:function(){s(!o)},"aria-expanded":o,"aria-label":"show more",style:{float:"right"},children:Object(a.jsx)(dt.a,{})}),Object(a.jsx)($e.a,{children:l.text}),Object(a.jsx)(Le.a,{style:{maxHeight:"200px",overflowY:"scroll",overflowX:"hidden"},in:o,timeout:"auto",unmountOnExit:!0,children:Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{style:{padding:"10px"},children:"Comments:"}),l.comments.map((function(e){return Object(a.jsx)(Be.a,{children:Object(a.jsx)(Ce.a,{avatar:Object(a.jsx)(Pe.a,{className:t.avatar,children:e.author}),title:e.text})})}))]})})]})})},bt=function(){var e=Object(c.useState)(""),t=Object(b.a)(e,2),n=t[0],i=t[1],r=Object(c.useState)(!1),o=Object(b.a)(r,2),s=(o[0],o[1],Object(c.useState)(!1)),l=Object(b.a)(s,2),d=(l[0],l[1],Object(c.useState)(!1)),u=Object(b.a)(d,2),j=(u[0],u[1],Object(c.useState)(0)),m=Object(b.a)(j,2),g=m[0],O=m[1],x=Object(c.useState)([]),p=Object(b.a)(x,2),f=p[0],v=p[1],y=Object(h.a)(W),w=Object(b.a)(y,2),S=w[0],k=w[1],I=(k.loading,k.data);Object(c.useEffect)((function(){S({variables:{text:n,type:g,limit:9}}),void 0!==I&&v(I.search.map(F))}),[n,g,I]);var F=function(e){return Object(a.jsx)(jt,{p:e})};return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{id:"theme-controller",children:[Object(a.jsx)("p",{children:"MainSearch"}),Object(a.jsx)(Fe,{})]}),Object(a.jsxs)("div",{className:"context",children:[Object(a.jsxs)("div",{className:"searchbar",children:[Object(a.jsx)("input",{placeholder:"\ud83d\udd0d Search",onChange:function(e){i(e.target.value)}}),Object(a.jsx)("input",{type:"checkbox",name:"title",onChange:function(e){e.target.checked?O(g%4+4):O(g%4)}}),Object(a.jsx)("label",{htmlFor:"title",children:"Title "}),Object(a.jsx)("input",{type:"checkbox",name:"tag",onChange:function(e){e.target.checked?O(g-g%4+g%2+2):O(g-g%4+g%2)}}),Object(a.jsx)("label",{htmlFor:"tag",children:"Tag "}),Object(a.jsx)("input",{type:"checkbox",name:"content",onChange:function(e){e.target.checked?O(g-g%2+1):O(g-g%2)}}),Object(a.jsx)("label",{htmlFor:"content",children:"Content"})]}),Object(a.jsx)("div",{style:{maxHeight:"80vh",overflowY:"scroll"},children:Object(a.jsx)("div",{children:f})})]})]})},ht=(n(598),function(e){Object(x.a)(n,e);var t=Object(p.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(g.a)(n,[{key:"render",value:function(){return console.log("rendered"),Object(a.jsx)(a.Fragment,{children:Object(a.jsx)("video",{controls:!0,width:"400",src:URL.createObjectURL(this.props.videoSrc)})})}}]),n}(c.PureComponent)),mt=n(99),gt=Object(mt.createFFmpeg)({log:!0});var Ot=function(){var e=Object(c.useState)(!1),t=Object(b.a)(e,2),n=(t[0],t[1]),i=Object(c.useState)(),r=Object(b.a)(i,2),o=r[0],s=r[1],l=Object(c.useState)(""),d=Object(b.a)(l,2),h=d[0],m=d[1],g=Object(c.useState)(),O=Object(b.a)(g,2),x=O[0],p=O[1],f=Object(c.useState)(1.3),v=Object(b.a)(f,2),y=v[0],w=v[1],S=Object(c.useState)(.3),k=Object(b.a)(S,2),I=k[0],F=k[1],E=Object(c.useState)(.3),B=Object(b.a)(E,2),C=B[0],R=B[1],$=Object(c.useState)(1),N=Object(b.a)($,2),L=(N[0],N[1],Object(c.useState)(1)),P=Object(b.a)(L,2),T=(P[0],P[1],Object(c.useState)(1)),A=Object(b.a)(T,2),z=(A[0],A[1],Object(c.useState)("00:00:00")),M=Object(b.a)(z,2),U=M[0],_=M[1],H=Object(c.useState)("00:00:09"),q=Object(b.a)(H,2),D=q[0],G=q[1],W=Object(c.useState)("00:00:01"),Y=Object(b.a)(W,2),J=Y[0],K=(Y[1],Object(c.useState)()),X=Object(b.a)(K,2);function V(e){localStorage.setItem("theme",e),document.getElementById("theme-controller").className=e}X[0],X[1],Object(c.useEffect)((function(){console.log(x),"1"===x?(console.log("hi"),document.getElementById("Contrast")&&(document.getElementById("Contrast").disabled=!0),document.getElementById("Saturation")&&(console.log("c1"),document.getElementById("Saturation").disabled=!0),document.getElementById("Brighten")&&(console.log("c2"),document.getElementById("Brighten").disabled=!0),document.getElementById("Flip")&&(console.log("c3"),document.getElementById("Flip").disabled=!0)):(document.getElementById("Contrast")&&(document.getElementById("Contrast").disabled=!1),document.getElementById("Saturation")&&(document.getElementById("Saturation").disabled=!1),document.getElementById("Brighten")&&(document.getElementById("Brighten").disabled=!1),document.getElementById("Flip")&&(document.getElementById("Flip").disabled=!1))}),[x]),Object(c.useEffect)((function(){"theme-dark"===localStorage.getItem("theme")?V("theme-dark"):V("theme-light")}));var Z=function(){var e=Object(j.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gt.load();case 2:n(!0);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){gt.isLoaded()||Z()}),[]);var Q=function(){var e=Object(j.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return document.getElementById("convertBtn").disabled=!0,e.t0=gt,e.next=4,Object(mt.fetchFile)(o);case 4:return e.t1=e.sent,e.t0.FS.call(e.t0,"writeFile","test.mov",e.t1),_("00:00:08"),G("00:00:09"),console.log(D.substring(6,8)),console.log(U.substring(6,8)),console.log(D.substring(6,8)-U.substring(6,8)),e.next=13,gt.run("-ss",U,"-i","test.mov","-to",J,"out1.mp4");case 13:return e.next=15,gt.run("-i","out1.mp4","out.gif");case 15:t=gt.FS("readFile","out.gif"),n=URL.createObjectURL(new Blob([t.buffer],{type:"image/gif"})),console.log("file converted"),m(n),document.getElementById("convertBtn").disabled=!1;case 20:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ee=function(){var e=Object(j.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return document.getElementById("contrastRange").value="50",document.getElementById("brightnessRange").value="0",document.getElementById("saturationRange").value="50",e.next=5,p("1");case 5:return e.t0=gt,e.next=8,Object(mt.fetchFile)(h);case 8:return e.t1=e.sent,e.t0.FS.call(e.t0,"writeFile","out.gif",e.t1),e.next=12,gt.run("-i","out.gif","-vf","hflip","filterout.gif");case 12:t=gt.FS("readFile","filterout.gif"),n=URL.createObjectURL(new Blob([t.buffer],{type:"image/gif"})),console.log("filter_flip added"),p(n);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),te=function(){var e=Object(j.a)(u.a.mark((function e(){var t,n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return document.getElementById("contrastRange").value="50",document.getElementById("saturationRange").value="50",t="eq=brightness="+I,e.next=5,p("1");case 5:return e.t0=gt,e.next=8,Object(mt.fetchFile)(h);case 8:return e.t1=e.sent,e.t0.FS.call(e.t0,"writeFile","out.gif",e.t1),e.next=12,gt.run("-i","out.gif","-vf",t,"filterout.gif");case 12:n=gt.FS("readFile","filterout.gif"),a=URL.createObjectURL(new Blob([n.buffer],{type:"image/gif"})),console.log("filter_brighten added"),p(a);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ne=function(){var e=Object(j.a)(u.a.mark((function e(){var t,n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return document.getElementById("brightnessRange").value="0",document.getElementById("saturationRange").value="50",t="eq=contrast="+y,e.next=5,p("1");case 5:return e.t0=gt,e.next=8,Object(mt.fetchFile)(h);case 8:return e.t1=e.sent,e.t0.FS.call(e.t0,"writeFile","out.gif",e.t1),e.next=12,gt.run("-i","out.gif","-vf",t,"filterout.gif");case 12:n=gt.FS("readFile","filterout.gif"),a=URL.createObjectURL(new Blob([n.buffer],{type:"image/gif"})),console.log("filter_brighten added"),p(a);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ae=function(){var e=Object(j.a)(u.a.mark((function e(){var t,n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="eq=saturation="+C,document.getElementById("contrastRange").value="50",document.getElementById("brightnessRange").value="0",e.next=5,p("1");case 5:return e.t0=gt,e.next=8,Object(mt.fetchFile)(h);case 8:return e.t1=e.sent,e.t0.FS.call(e.t0,"writeFile","out.gif",e.t1),e.next=12,gt.run("-i","out.gif","-vf",t,"filterout.gif");case 12:n=gt.FS("readFile","filterout.gif"),a=URL.createObjectURL(new Blob([n.buffer],{type:"image/gif"})),console.log("filter_brighten added"),p(a);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ce=function(e){w((e.target.value-50)/50)},ie=function(e){F(e.target.value/50)},re=function(e){R((e.target.value-50)/50)};return Object(a.jsxs)("div",{className:"theme-dark",id:"theme-controller",children:[Object(a.jsx)(Fe,{className:"nav"}),Object(a.jsxs)("div",{className:"App",children:[Object(a.jsxs)("div",{className:"main-center-v",id:"main",children:[o?Object(a.jsx)(ht,{videoSrc:o}):Object(a.jsx)(a.Fragment,{}),Object(a.jsx)("input",{type:"file",onChange:function(e){var t;return s(null===(t=e.target.files)||void 0===t?void 0:t.item(0))}}),o?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("button",{style:{padding:"10px",display:"inline"},children:"start"}),Object(a.jsx)("p",{style:{display:"inline"},children:"    "}),Object(a.jsx)("button",{style:{padding:"10px",display:"inline"},children:"stop"})]}),Object(a.jsx)("h3",{children:"Result"}),Object(a.jsx)("button",{onClick:Q,id:"convertBtn",children:"Convert to GIF"}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),h&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("img",{src:h,width:"400"}),Object(a.jsx)("br",{}),h]}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{})]}):Object(a.jsx)(a.Fragment,{children:Object(a.jsx)("h2",{children:"Select video above"})})]}),Object(a.jsx)("div",{className:"main-right-v",id:"main",children:o?Object(a.jsx)(a.Fragment,{children:h?x?"1"===x?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h2",{children:"Select one filter"}),Object(a.jsx)("input",{type:"range",min:"0",max:"99",onInput:ce,id:"contrastRange"}),Object(a.jsx)("button",{id:"Contrast",onClick:ne,children:"Filter_contrast"}),Object(a.jsx)("input",{type:"range",min:"-50",max:"50",onInput:ie,id:"brightnessRange"}),Object(a.jsx)("button",{id:"Brighten",onClick:te,children:"Filter_brighten"}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)("button",{id:"Flip",onClick:ee,children:"Filter_flip"}),Object(a.jsx)("input",{type:"range",min:"0",max:"100",onInput:re,id:"saturationRange"}),Object(a.jsx)("button",{id:"Saturation",onClick:ae,children:"Filter_saturation"}),Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("div",{style:{padding:"10px"},children:[Object(a.jsx)("img",{src:"https://i.stack.imgur.com/kOnzy.gif",width:"80",style:{padding:"10px"}}),Object(a.jsx)("br",{})]})})]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h2",{children:"Select one filter"}),Object(a.jsx)("input",{type:"range",min:"0",max:"100",onInput:ce,id:"contrastRange"}),Object(a.jsx)("button",{id:"Contrast",onClick:ne,children:"Filter_contrast"}),Object(a.jsx)("input",{type:"range",min:"-50",max:"50",onInput:ie,id:"brightnessRange"}),Object(a.jsx)("button",{id:"Brighten",onClick:te,children:"Filter_brighten"}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)("button",{id:"Flip",onClick:ee,children:"Filter_flip"}),Object(a.jsx)("input",{type:"range",min:"0",max:"100",onInput:re,id:"saturationRange"}),Object(a.jsx)("button",{id:"Saturation",onClick:ae,children:"Filter_saturation"}),x&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{style:{padding:"10px"},children:[Object(a.jsx)("img",{src:x,width:"250"}),Object(a.jsx)("br",{}),x]}),Object(a.jsx)("div",{children:Object(a.jsx)("button",{onClick:function(){m(x),document.getElementById("contrastRange").value="50",document.getElementById("brightnessRange").value="0",document.getElementById("saturationRange").value="50"},children:"Save Change"})})]})]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h2",{children:"Select one filter"}),Object(a.jsx)("input",{type:"range",min:"0",max:"100",onInput:ce,id:"contrastRange"}),Object(a.jsx)("button",{id:"Contrast",onClick:ne,children:"Filter_contrast"}),Object(a.jsx)("input",{type:"range",defaultValue:"0",min:"-50",max:"50",onInput:ie,id:"brightnessRange"}),Object(a.jsx)("button",{id:"Brighten",onClick:te,children:"Filter_brighten"}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)("button",{id:"Flip",onClick:ee,children:"Filter_flip"}),Object(a.jsx)("input",{type:"range",min:"0",max:"100",onInput:re,id:"saturationRange"}),Object(a.jsx)("button",{id:"Saturation",onClick:ae,children:"Filter_saturation"}),h&&Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("div",{style:{padding:"20px"},children:[Object(a.jsx)("img",{src:h,width:"250"}),Object(a.jsx)("br",{}),"PLEASE APPLY CHANGE"]})})]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h2",{children:"To add filter"}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)("h2",{children:"Please convert the video first!!!"}),Object(a.jsx)("br",{}),Object(a.jsx)("h4",{children:"Hit the convert button on the left side"})]})}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h2",{children:"To add filter"}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)("h2",{children:"Please select the video first!!!"})]})})]})]})};var xt=function(){return Object(a.jsx)(s.a,{children:Object(a.jsxs)(l.d,{children:[Object(a.jsx)(l.b,{exact:!0,path:"/",children:Object(a.jsx)(l.a,{to:"/login"})}),Object(a.jsx)(l.b,{path:"/login",children:Object(a.jsx)(ee,{})}),Object(a.jsx)(l.b,{exact:!0,path:"/main",children:Object(a.jsx)(Ke,{})}),Object(a.jsx)(l.b,{path:"/main/search",children:Object(a.jsx)(bt,{})}),Object(a.jsx)(l.b,{path:"/main/post",children:Object(a.jsx)(it,{})}),Object(a.jsx)(l.b,{path:"/main/profile",children:Object(a.jsx)(st,{})}),Object(a.jsx)(l.b,{path:"/main/videoEditor",children:Object(a.jsx)(Ot,{})})]})})},pt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,704)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),i(e),r(e)}))},ft=(n(619),n(117)),vt=n(700),yt=n(43),wt=n(50),St=n(317),kt=n(313),It=n(7),Ft=new St.a({uri:"http://localhost:4000/"}),Et=new kt.a({uri:"ws://localhost:4000/",options:{reconnect:!0}}),Bt=Object(wt.d)((function(e){var t=e.query,n=Object(It.l)(t);return"OperationDefinition"===n.kind&&"subscription"===n.operation}),Et,Ft),Ct=new ft.a({link:Bt,cache:(new vt.a).restore({})});o.a.render(Object(a.jsx)(yt.a,{client:Ct,children:Object(a.jsx)(xt,{})}),document.getElementById("root")),pt()}},[[628,1,2]]]);
//# sourceMappingURL=main.81f8e738.chunk.js.map